var N=Object.defineProperty;var R=(e,t,l)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var i=(e,t,l)=>(R(e,typeof t!="symbol"?t+"":t,l),l);import{d as W,w as S,b as j}from"./paths.361ef818.mjs";import{S as J,i as K,s as G,e as D,b as P,g as V,d as O,h as w,C as Q,Y,k as Z,l as p,m as z,Z as F,_ as B,P as g,J as M,E as H,F as X,G as A,$ as I,Q as x,K as T}from"./index.18ccf95c.mjs";var c=(e=>(e.Candle="candle",e.Crucifix="crucifix",e.DOTS="dots",e.EMFReader="emf-reader",e.Flashlight="flashlight",e.GhostWritingBook="ghost-writing-book",e.Glowstick="glowstick",e.Lighter="lighter",e.MotionSensor="motion-sensor",e.ParabolicMic="parabolic-mic",e.PhotoCamera="photo-camera",e.Salt="salt",e.SanityPills="sanity-pills",e.SmudgeStick="smudge-stick",e.SoundSensor="sound-sensor",e.SpiritBox="spirit-box",e.StrongFlashlight="strong-flashlight",e.Thermometer="thermometer",e.Tripod="tripod",e.UVFlashlight="uv-flashlight",e.VideoCamera="video-camera",e))(c||{});class d{}i(d,"amount",3),i(d,"capacity",3),i(d,"max",4),i(d,"min",1);var y;let q=(y=class{},i(y,"allowDependencies",!0),i(y,"allowSiblings",!1),y);var le,ae,ie,re,ne,oe,ce,fe,he,_e,ue,be,ge,de,ye,Se,ve,we,ke,Ce,me;class f{}le=c.Candle,ae=c.Crucifix,ie=c.DOTS,re=c.EMFReader,ne=c.Flashlight,oe=c.GhostWritingBook,ce=c.Glowstick,fe=c.Lighter,he=c.MotionSensor,_e=c.ParabolicMic,ue=c.PhotoCamera,be=c.Salt,ge=c.SanityPills,de=c.SmudgeStick,ye=c.SoundSensor,Se=c.SpiritBox,ve=c.StrongFlashlight,we=c.Thermometer,ke=c.Tripod,Ce=c.UVFlashlight,me=c.VideoCamera,i(f,le,0),i(f,ae,0),i(f,ie,0),i(f,re,1),i(f,ne,1),i(f,oe,1),i(f,ce,0),i(f,fe,0),i(f,he,0),i(f,_e,0),i(f,ue,1),i(f,be,0),i(f,ge,0),i(f,de,0),i(f,ye,0),i(f,Se,1),i(f,ve,0),i(f,we,0),i(f,ke,0),i(f,Ce,1),i(f,me,1);const k={Players:d,Distribution:q,EquipmentAmount:f};class E{constructor(){i(this,"allowDependencies",k.Distribution.allowDependencies);i(this,"allowSiblings",k.Distribution.allowSiblings)}}const Te=S(k.Players.amount),$={...S([]),resetEquipment(){this.update(e=>e.map(t=>({...t,equipments:[]})))}},Ge=S(new E),ee={...S([]),name(e){let t="";return this.subscribe(n=>{var s;t=((s=n.find(a=>a.id===e))==null?void 0:s.name)??e})(),t},siblings(e){let t=[];return this.subscribe(n=>{t=n.filter(s=>{var a;return(a=s==null?void 0:s.siblings)==null?void 0:a.has(e)}).map(s=>s.id)})(),t},dependency(e){let t=null;return this.subscribe(n=>{var s;t=((s=n.find(a=>a.id===e))==null?void 0:s.dependency)??null})(),t}},Pe=W([ee,$],([e,t])=>{const l=[];for(let n=0;n<e.length;n++){const s=e[n];for(let a=0;a<s.amount;a++)l.push(s.id)}for(let n=0;n<t.length;n++)t[n].equipments.forEach(s=>{const a=l.indexOf(s);a>-1&&l.splice(a,1)});return l});function v(e){let t,l,n,s;const a=e[9].default,o=Q(a,e,e[8],null);let b=[{class:"button svelte-1sdwdrs"},{href:e[4]},{type:e[5]},{title:e[1]}],u={};for(let r=0;r<b.length;r+=1)u=Y(u,b[r]);return{c(){t=Z(e[3]),o&&o.c(),this.h()},l(r){t=p(r,(e[3]||"null").toUpperCase(),{class:!0,href:!0,type:!0,title:!0});var _=z(t);o&&o.l(_),_.forEach(w),this.h()},h(){/-/.test(e[3])?F(t,u):B(t,u),g(t,"primary",e[0]==="primary"),g(t,"light",e[0]==="light"),g(t,"small",e[2])},m(r,_){P(r,t,_),o&&o.m(t,null),l=!0,n||(s=[M(t,"click",e[10]),M(t,"keypress",e[11])],n=!0)},p(r,_){o&&o.p&&(!l||_&256)&&H(o,a,r,r[8],l?A(a,r[8],_,null):X(r[8]),null),u=I(b,[{class:"button svelte-1sdwdrs"},(!l||_&16)&&{href:r[4]},(!l||_&32)&&{type:r[5]},(!l||_&2)&&{title:r[1]}]),/-/.test(r[3])?F(t,u):B(t,u),g(t,"primary",r[0]==="primary"),g(t,"light",r[0]==="light"),g(t,"small",r[2])},i(r){l||(V(o,r),l=!0)},o(r){O(o,r),l=!1},d(r){r&&w(t),o&&o.d(r),n=!1,x(s)}}}function te(e){let t=e[3],l,n,s=e[3]&&v(e);return{c(){s&&s.c(),l=D()},l(a){s&&s.l(a),l=D()},m(a,o){s&&s.m(a,o),P(a,l,o),n=!0},p(a,[o]){a[3]?t?G(t,a[3])?(s.d(1),s=v(a),s.c(),s.m(l.parentNode,l)):s.p(a,o):(s=v(a),s.c(),s.m(l.parentNode,l)):t&&(s.d(1),s=null),t=a[3]},i(a){n||(V(s),n=!0)},o(a){O(s),n=!1},d(a){a&&w(l),s&&s.d(a)}}}function se(e,t,l){let{$$slots:n={},$$scope:s}=t,{href:a=null}=t,{type:o="button"}=t,{color:b=""}=t,{title:u=""}=t,{small:r=!1}=t,_,C,m;function U(h){T.call(this,e,h)}function L(h){T.call(this,e,h)}return e.$$set=h=>{"href"in h&&l(6,a=h.href),"type"in h&&l(7,o=h.type),"color"in h&&l(0,b=h.color),"title"in h&&l(1,u=h.title),"small"in h&&l(2,r=h.small),"$$scope"in h&&l(8,s=h.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&l(3,_=a===null?"button":"a"),e.$$.dirty&72&&l(4,C=_==="a"?`${j}${a}`:null),e.$$.dirty&136&&l(5,m=_==="button"?o:null)},[b,u,r,_,C,m,a,o,s,n,U,L]}class Ve extends J{constructor(t){super(),K(this,t,se,te,G,{href:6,type:7,color:0,title:1,small:2})}}export{Ve as B,k as C,$ as a,Pe as b,Ge as d,ee as e,Te as p};
