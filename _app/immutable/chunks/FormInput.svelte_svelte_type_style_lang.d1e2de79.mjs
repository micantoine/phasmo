var U=Object.defineProperty;var L=(e,t,l)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var i=(e,t,l)=>(L(e,typeof t!="symbol"?t+"":t,l),l);import{d as N,w as y,b as R}from"./paths.abee2adf.mjs";import{S as W,i as j,s as M,e as C,b as T,g as G,d as P,h as v,C as J,Y as K,k as Q,l as Y,m as Z,Z as D,_ as F,P as B,J as m,E as z,F as H,G as X,$ as x,Q as A,K as p}from"./index.18ccf95c.mjs";var c=(e=>(e.Candle="candle",e.Crucifix="crucifix",e.DOTS="dots",e.EMFReader="emf-reader",e.Flashlight="flashlight",e.GhostWritingBook="ghost-writing-book",e.Glowstick="glowstick",e.Lighter="lighter",e.MotionSensor="motion-sensor",e.ParabolicMic="parabolic-mic",e.PhotoCamera="photo-camera",e.Salt="salt",e.SanityPills="sanity-pills",e.SmudgeStick="smudge-stick",e.SoundSensor="sound-sensor",e.SpiritBox="spirit-box",e.StrongFlashlight="strong-flashlight",e.Thermometer="thermometer",e.Tripod="tripod",e.UVFlashlight="uv-flashlight",e.VideoCamera="video-camera",e))(c||{});class g{}i(g,"amount",3),i(g,"capacity",3),i(g,"max",4),i(g,"min",1);var d;let I=(d=class{},i(d,"allowDependencies",!0),i(d,"allowSiblings",!1),d);var se,le,ae,ie,re,oe,ne,ce,fe,_e,he,ue,be,ge,de,ye,Se,ve,we,ke,Ce;class f{}se=c.Candle,le=c.Crucifix,ae=c.DOTS,ie=c.EMFReader,re=c.Flashlight,oe=c.GhostWritingBook,ne=c.Glowstick,ce=c.Lighter,fe=c.MotionSensor,_e=c.ParabolicMic,he=c.PhotoCamera,ue=c.Salt,be=c.SanityPills,ge=c.SmudgeStick,de=c.SoundSensor,ye=c.SpiritBox,Se=c.StrongFlashlight,ve=c.Thermometer,we=c.Tripod,ke=c.UVFlashlight,Ce=c.VideoCamera,i(f,se,0),i(f,le,0),i(f,ae,0),i(f,ie,1),i(f,re,1),i(f,oe,1),i(f,ne,0),i(f,ce,0),i(f,fe,0),i(f,_e,0),i(f,he,1),i(f,ue,0),i(f,be,0),i(f,ge,0),i(f,de,0),i(f,ye,1),i(f,Se,0),i(f,ve,0),i(f,we,0),i(f,ke,1),i(f,Ce,1);const w={Players:g,Distribution:I,EquipmentAmount:f};class ${constructor(){i(this,"allowDependencies",w.Distribution.allowDependencies);i(this,"allowSiblings",w.Distribution.allowSiblings)}}const pe=y(w.Players.amount),q={...y([]),resetEquipment(){this.update(e=>e.map(t=>({...t,equipments:[]})))}},Me=y(new $),E={...y([]),name(e){let t="";return this.subscribe(o=>{var s;t=((s=o.find(a=>a.id===e))==null?void 0:s.name)??e})(),t},siblings(e){let t=[];return this.subscribe(o=>{t=o.filter(s=>{var a;return(a=s==null?void 0:s.siblings)==null?void 0:a.has(e)}).map(s=>s.id)})(),t},dependency(e){let t=null;return this.subscribe(o=>{var s;t=((s=o.find(a=>a.id===e))==null?void 0:s.dependency)??null})(),t}},Te=N([E,q],([e,t])=>{const l=[];for(let o=0;o<e.length;o++){const s=e[o];for(let a=0;a<s.amount;a++)l.push(s.id)}for(let o=0;o<t.length;o++)t[o].equipments.forEach(s=>{const a=l.indexOf(s);a>-1&&l.splice(a,1)});return l});function S(e){let t,l,o,s;const a=e[8].default,n=J(a,e,e[7],null);let b=[{class:"button svelte-1vew2lr"},{href:e[3]},{type:e[4]},{title:e[1]}],u={};for(let r=0;r<b.length;r+=1)u=K(u,b[r]);return{c(){t=Q(e[2]),n&&n.c(),this.h()},l(r){t=Y(r,(e[2]||"null").toUpperCase(),{class:!0,href:!0,type:!0,title:!0});var h=Z(t);n&&n.l(h),h.forEach(v),this.h()},h(){/-/.test(e[2])?D(t,u):F(t,u),B(t,"primary",e[0]==="primary")},m(r,h){T(r,t,h),n&&n.m(t,null),l=!0,o||(s=[m(t,"click",e[9]),m(t,"keypress",e[10])],o=!0)},p(r,h){n&&n.p&&(!l||h&128)&&z(n,a,r,r[7],l?X(a,r[7],h,null):H(r[7]),null),u=x(b,[{class:"button svelte-1vew2lr"},(!l||h&8)&&{href:r[3]},(!l||h&16)&&{type:r[4]},(!l||h&2)&&{title:r[1]}]),/-/.test(r[2])?D(t,u):F(t,u),B(t,"primary",r[0]==="primary")},i(r){l||(G(n,r),l=!0)},o(r){P(n,r),l=!1},d(r){r&&v(t),n&&n.d(r),o=!1,A(s)}}}function ee(e){let t=e[2],l,o,s=e[2]&&S(e);return{c(){s&&s.c(),l=C()},l(a){s&&s.l(a),l=C()},m(a,n){s&&s.m(a,n),T(a,l,n),o=!0},p(a,[n]){a[2]?t?M(t,a[2])?(s.d(1),s=S(a),s.c(),s.m(l.parentNode,l)):s.p(a,n):(s=S(a),s.c(),s.m(l.parentNode,l)):t&&(s.d(1),s=null),t=a[2]},i(a){o||(G(s),o=!0)},o(a){P(s),o=!1},d(a){a&&v(l),s&&s.d(a)}}}function te(e,t,l){let{$$slots:o={},$$scope:s}=t,{href:a=null}=t,{type:n="button"}=t,{color:b=""}=t,{title:u=""}=t,r,h,k;function V(_){p.call(this,e,_)}function O(_){p.call(this,e,_)}return e.$$set=_=>{"href"in _&&l(5,a=_.href),"type"in _&&l(6,n=_.type),"color"in _&&l(0,b=_.color),"title"in _&&l(1,u=_.title),"$$scope"in _&&l(7,s=_.$$scope)},e.$$.update=()=>{e.$$.dirty&32&&l(2,r=a===null?"button":"a"),e.$$.dirty&36&&l(3,h=r==="a"?`${R}${a}`:null),e.$$.dirty&68&&l(4,k=r==="button"?n:null)},[b,u,r,h,k,a,n,s,o,V,O]}class Ge extends W{constructor(t){super(),j(this,t,te,ee,M,{href:5,type:6,color:0,title:1})}}export{Ge as B,w as C,q as a,Te as b,Me as d,E as e,pe as p};
