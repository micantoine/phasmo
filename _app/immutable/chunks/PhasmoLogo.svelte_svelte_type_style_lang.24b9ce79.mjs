var N=Object.defineProperty;var R=(e,t,l)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var i=(e,t,l)=>(R(e,typeof t!="symbol"?t+"":t,l),l);import{d as W,w as S,b as j}from"./paths.1fbbbce3.mjs";import{S as p,i as J,s as T,e as D,b as G,g as V,d as L,h as w,C as K,Y as Q,k as Y,l as Z,m as z,Z as F,_ as B,P as b,J as M,E as H,F as X,G as A,$ as I,Q as x,K as P}from"./index.18ccf95c.mjs";var c=(e=>(e.Candle="candle",e.Crucifix="crucifix",e.DOTS="dots",e.EMFReader="emf-reader",e.Flashlight="flashlight",e.GhostWritingBook="ghost-writing-book",e.Glowstick="glowstick",e.Lighter="lighter",e.MotionSensor="motion-sensor",e.ParabolicMic="parabolic-mic",e.PhotoCamera="photo-camera",e.Salt="salt",e.SanityPills="sanity-pills",e.SmudgeStick="smudge-stick",e.SoundSensor="sound-sensor",e.SpiritBox="spirit-box",e.StrongFlashlight="strong-flashlight",e.Thermometer="thermometer",e.Tripod="tripod",e.UVFlashlight="uv-flashlight",e.VideoCamera="video-camera",e))(c||{});class d{}i(d,"amount",3),i(d,"capacity",3),i(d,"max",4),i(d,"min",1);var y;let q=(y=class{},i(y,"allowDependencies",!0),i(y,"allowSiblings",!1),y);var le,ae,ie,re,oe,ne,ce,fe,_e,he,ue,ge,be,de,ye,Se,ve,we,ke,Ce,me;class f{}le=c.Candle,ae=c.Crucifix,ie=c.DOTS,re=c.EMFReader,oe=c.Flashlight,ne=c.GhostWritingBook,ce=c.Glowstick,fe=c.Lighter,_e=c.MotionSensor,he=c.ParabolicMic,ue=c.PhotoCamera,ge=c.Salt,be=c.SanityPills,de=c.SmudgeStick,ye=c.SoundSensor,Se=c.SpiritBox,ve=c.StrongFlashlight,we=c.Thermometer,ke=c.Tripod,Ce=c.UVFlashlight,me=c.VideoCamera,i(f,le,0),i(f,ae,0),i(f,ie,0),i(f,re,1),i(f,oe,1),i(f,ne,1),i(f,ce,0),i(f,fe,0),i(f,_e,0),i(f,he,0),i(f,ue,1),i(f,ge,0),i(f,be,0),i(f,de,0),i(f,ye,0),i(f,Se,1),i(f,ve,0),i(f,we,0),i(f,ke,0),i(f,Ce,1),i(f,me,1);const k={Players:d,Distribution:q,EquipmentAmount:f};class E{constructor(){i(this,"allowDependencies",k.Distribution.allowDependencies);i(this,"allowSiblings",k.Distribution.allowSiblings)}}const Pe=S(k.Players.amount),$={...S([]),resetEquipment(){this.update(e=>e.map(t=>({...t,equipments:[]})))}},Te=S(new E),ee={...S([]),name(e){let t="";return this.subscribe(o=>{var s;t=((s=o.find(a=>a.id===e))==null?void 0:s.name)??e})(),t},siblings(e){let t=[];return this.subscribe(o=>{t=o.filter(s=>{var a;return(a=s==null?void 0:s.siblings)==null?void 0:a.has(e)}).map(s=>s.id)})(),t},dependency(e){let t=null;return this.subscribe(o=>{var s;t=((s=o.find(a=>a.id===e))==null?void 0:s.dependency)??null})(),t}},Ge=W([ee,$],([e,t])=>{const l=[];for(let o=0;o<e.length;o++){const s=e[o];for(let a=0;a<s.amount;a++)l.push(s.id)}for(let o=0;o<t.length;o++)t[o].equipments.forEach(s=>{const a=l.indexOf(s);a>-1&&l.splice(a,1)});return l});function v(e){let t,l,o,s;const a=e[9].default,n=K(a,e,e[8],null);let g=[{class:"button svelte-1sdwdrs"},{href:e[4]},{type:e[5]},{title:e[1]}],u={};for(let r=0;r<g.length;r+=1)u=Q(u,g[r]);return{c(){t=Y(e[3]),n&&n.c(),this.h()},l(r){t=Z(r,(e[3]||"null").toUpperCase(),{class:!0,href:!0,type:!0,title:!0});var h=z(t);n&&n.l(h),h.forEach(w),this.h()},h(){/-/.test(e[3])?F(t,u):B(t,u),b(t,"primary",e[0]==="primary"),b(t,"light",e[0]==="light"),b(t,"small",e[2])},m(r,h){G(r,t,h),n&&n.m(t,null),l=!0,o||(s=[M(t,"click",e[10]),M(t,"keypress",e[11])],o=!0)},p(r,h){n&&n.p&&(!l||h&256)&&H(n,a,r,r[8],l?A(a,r[8],h,null):X(r[8]),null),u=I(g,[{class:"button svelte-1sdwdrs"},(!l||h&16)&&{href:r[4]},(!l||h&32)&&{type:r[5]},(!l||h&2)&&{title:r[1]}]),/-/.test(r[3])?F(t,u):B(t,u),b(t,"primary",r[0]==="primary"),b(t,"light",r[0]==="light"),b(t,"small",r[2])},i(r){l||(V(n,r),l=!0)},o(r){L(n,r),l=!1},d(r){r&&w(t),n&&n.d(r),o=!1,x(s)}}}function te(e){let t=e[3],l,o,s=e[3]&&v(e);return{c(){s&&s.c(),l=D()},l(a){s&&s.l(a),l=D()},m(a,n){s&&s.m(a,n),G(a,l,n),o=!0},p(a,[n]){a[3]?t?T(t,a[3])?(s.d(1),s=v(a),s.c(),s.m(l.parentNode,l)):s.p(a,n):(s=v(a),s.c(),s.m(l.parentNode,l)):t&&(s.d(1),s=null),t=a[3]},i(a){o||(V(s),o=!0)},o(a){L(s),o=!1},d(a){a&&w(l),s&&s.d(a)}}}function se(e,t,l){let{$$slots:o={},$$scope:s}=t,{href:a=null}=t,{type:n="button"}=t,{color:g=""}=t,{title:u=""}=t,{small:r=!1}=t,h,C,m;function O(_){P.call(this,e,_)}function U(_){P.call(this,e,_)}return e.$$set=_=>{"href"in _&&l(6,a=_.href),"type"in _&&l(7,n=_.type),"color"in _&&l(0,g=_.color),"title"in _&&l(1,u=_.title),"small"in _&&l(2,r=_.small),"$$scope"in _&&l(8,s=_.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&l(3,h=a===null?"button":"a"),e.$$.dirty&72&&l(4,C=h==="a"?`${j}${a}`:null),e.$$.dirty&136&&l(5,m=h==="button"?n:null)},[g,u,r,h,C,m,a,n,s,o,O,U]}class Ve extends p{constructor(t){super(),J(this,t,se,te,T,{href:6,type:7,color:0,title:1,small:2})}}export{Ve as B,k as C,$ as a,Ge as b,Te as d,ee as e,Pe as p};
